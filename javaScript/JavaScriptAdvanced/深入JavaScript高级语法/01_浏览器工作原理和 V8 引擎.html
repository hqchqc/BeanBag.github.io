<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.36">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <link rel="manifest" href="/manifest.webmanifest"><link rel="icon" href="/image/header.png"><link rel="shortcut icon" href="favicon.ico"><meta name="theme-color" content="#3eaf7c"><script>
      var _hmt = _hmt || [];
      (function() {
        var hm = document.createElement("script");
        hm.src = "https://hm.baidu.com/hm.js?41852977b8b2d3e3765fc0b54a74996f";
        var s = document.getElementsByTagName("script")[0]; 
        s.parentNode.insertBefore(hm, s);
      })();
      </script><title>01_浏览器工作原理和 V8 引擎 | 学习生活</title><meta name="description" content="记录前端开发日常">
    <link rel="modulepreload" href="/assets/app.044a4b86.js"><link rel="modulepreload" href="/assets/01_浏览器工作原理和 V8 引擎.html.1acaf302.js"><link rel="modulepreload" href="/assets/01_浏览器工作原理和 V8 引擎.html.512e385d.js"><link rel="modulepreload" href="/assets/plugin-vue_export-helper.21dcd24c.js">
    <link rel="stylesheet" href="/assets/style.25d76dc5.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header ref_key="navbar" class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/" class=""><img class="logo" src="/image/header.png" alt="学习生活"><span class="site-name can-hide">学习生活</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><a href="/" class="" aria-label="首页"><!--[--><!--]--> 首页 <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="前端书籍"><span class="title">前端书籍</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="前端书籍"><span class="title">前端书籍</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/books/ECMAScript6/ECMAScript6入门教程" class="" aria-label="ECMAScript6入门教程"><!--[--><!--]--> ECMAScript6入门教程 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/books/TypeScript%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B.html" class="" aria-label="TypeScript 入门教程"><!--[--><!--]--> TypeScript 入门教程 <!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="框架学习"><span class="title">框架学习</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="框架学习"><span class="title">框架学习</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/frame/Vue2/Vue2" class="" aria-label="Vue2"><!--[--><!--]--> Vue2 <!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="JavaScript"><span class="title">JavaScript</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="JavaScript"><span class="title">JavaScript</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/javaScript/AlgorithmSort/排序算法" class="" aria-label="排序算法"><!--[--><!--]--> 排序算法 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/javaScript/JavaScriptAdvanced/深入JavaScript高级语法" class="" aria-label="深入JavaScript高级语法"><!--[--><!--]--> 深入JavaScript高级语法 <!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-item"><a class="external-link" href="https://github.com/hqchqc" rel="noopener noreferrer" target="_blank" aria-label="Github"><!--[--><!--]--> Github <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-dark-button" title="toggle dark mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!----></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><a href="/" class="" aria-label="首页"><!--[--><!--]--> 首页 <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="前端书籍"><span class="title">前端书籍</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="前端书籍"><span class="title">前端书籍</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/books/ECMAScript6/ECMAScript6入门教程" class="" aria-label="ECMAScript6入门教程"><!--[--><!--]--> ECMAScript6入门教程 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/books/TypeScript%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B.html" class="" aria-label="TypeScript 入门教程"><!--[--><!--]--> TypeScript 入门教程 <!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="框架学习"><span class="title">框架学习</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="框架学习"><span class="title">框架学习</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/frame/Vue2/Vue2" class="" aria-label="Vue2"><!--[--><!--]--> Vue2 <!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="JavaScript"><span class="title">JavaScript</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="JavaScript"><span class="title">JavaScript</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/javaScript/AlgorithmSort/排序算法" class="" aria-label="排序算法"><!--[--><!--]--> 排序算法 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/javaScript/JavaScriptAdvanced/深入JavaScript高级语法" class="" aria-label="深入JavaScript高级语法"><!--[--><!--]--> 深入JavaScript高级语法 <!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-item"><a class="external-link" href="https://github.com/hqchqc" rel="noopener noreferrer" target="_blank" aria-label="Github"><!--[--><!--]--> Github <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><p tabindex="0" class="sidebar-item sidebar-heading active">深入JavaScript高级语法 <!----></p><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/javaScript/JavaScriptAdvanced/%E6%B7%B1%E5%85%A5JavaScript%E9%AB%98%E7%BA%A7%E8%AF%AD%E6%B3%95/01_%E6%B5%8F%E8%A7%88%E5%99%A8%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86%E5%92%8C%20V8%20%E5%BC%95%E6%93%8E.html" class="router-link-active router-link-exact-active router-link-active sidebar-item active" aria-label="01_浏览器工作原理和 V8 引擎"><!--[--><!--]--> 01_浏览器工作原理和 V8 引擎 <!--[--><!--]--></a><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/javaScript/JavaScriptAdvanced/%E6%B7%B1%E5%85%A5JavaScript%E9%AB%98%E7%BA%A7%E8%AF%AD%E6%B3%95/01_%E6%B5%8F%E8%A7%88%E5%99%A8%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86%E5%92%8C%20V8%20%E5%BC%95%E6%93%8E.html#javascript-是一门编程语言" class="router-link-active router-link-exact-active sidebar-item" aria-label="JavaScript 是一门编程语言"><!--[--><!--]--> JavaScript 是一门编程语言 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/javaScript/JavaScriptAdvanced/%E6%B7%B1%E5%85%A5JavaScript%E9%AB%98%E7%BA%A7%E8%AF%AD%E6%B3%95/01_%E6%B5%8F%E8%A7%88%E5%99%A8%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86%E5%92%8C%20V8%20%E5%BC%95%E6%93%8E.html#浏览器的工作原理" class="router-link-active router-link-exact-active sidebar-item" aria-label="浏览器的工作原理"><!--[--><!--]--> 浏览器的工作原理 <!--[--><!--]--></a><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/javaScript/JavaScriptAdvanced/%E6%B7%B1%E5%85%A5JavaScript%E9%AB%98%E7%BA%A7%E8%AF%AD%E6%B3%95/01_%E6%B5%8F%E8%A7%88%E5%99%A8%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86%E5%92%8C%20V8%20%E5%BC%95%E6%93%8E.html#_1-浏览器内核" class="router-link-active router-link-exact-active sidebar-item" aria-label="1. 浏览器内核"><!--[--><!--]--> 1. 浏览器内核 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/javaScript/JavaScriptAdvanced/%E6%B7%B1%E5%85%A5JavaScript%E9%AB%98%E7%BA%A7%E8%AF%AD%E6%B3%95/01_%E6%B5%8F%E8%A7%88%E5%99%A8%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86%E5%92%8C%20V8%20%E5%BC%95%E6%93%8E.html#_2-javascript-引擎" class="router-link-active router-link-exact-active sidebar-item" aria-label="2. JavaScript 引擎"><!--[--><!--]--> 2. JavaScript 引擎 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/javaScript/JavaScriptAdvanced/%E6%B7%B1%E5%85%A5JavaScript%E9%AB%98%E7%BA%A7%E8%AF%AD%E6%B3%95/01_%E6%B5%8F%E8%A7%88%E5%99%A8%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86%E5%92%8C%20V8%20%E5%BC%95%E6%93%8E.html#_3-浏览器内核和-javascript-引擎的关系" class="router-link-active router-link-exact-active sidebar-item" aria-label="3. 浏览器内核和 JavaScript 引擎的关系"><!--[--><!--]--> 3. 浏览器内核和 JavaScript 引擎的关系 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/javaScript/JavaScriptAdvanced/%E6%B7%B1%E5%85%A5JavaScript%E9%AB%98%E7%BA%A7%E8%AF%AD%E6%B3%95/01_%E6%B5%8F%E8%A7%88%E5%99%A8%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86%E5%92%8C%20V8%20%E5%BC%95%E6%93%8E.html#_4-浏览器的渲染过程" class="router-link-active router-link-exact-active sidebar-item" aria-label="4. 浏览器的渲染过程"><!--[--><!--]--> 4. 浏览器的渲染过程 <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><a aria-current="page" href="/javaScript/JavaScriptAdvanced/%E6%B7%B1%E5%85%A5JavaScript%E9%AB%98%E7%BA%A7%E8%AF%AD%E6%B3%95/01_%E6%B5%8F%E8%A7%88%E5%99%A8%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86%E5%92%8C%20V8%20%E5%BC%95%E6%93%8E.html#v8-引擎的原理" class="router-link-active router-link-exact-active sidebar-item" aria-label="V8 引擎的原理"><!--[--><!--]--> V8 引擎的原理 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/javaScript/JavaScriptAdvanced/%E6%B7%B1%E5%85%A5JavaScript%E9%AB%98%E7%BA%A7%E8%AF%AD%E6%B3%95/01_%E6%B5%8F%E8%A7%88%E5%99%A8%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86%E5%92%8C%20V8%20%E5%BC%95%E6%93%8E.html#v8-引擎细节及解析图-官方" class="router-link-active router-link-exact-active sidebar-item" aria-label="V8 引擎细节及解析图（官方）"><!--[--><!--]--> V8 引擎细节及解析图（官方） <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/javaScript/JavaScriptAdvanced/%E6%B7%B1%E5%85%A5JavaScript%E9%AB%98%E7%BA%A7%E8%AF%AD%E6%B3%95/01_%E6%B5%8F%E8%A7%88%E5%99%A8%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86%E5%92%8C%20V8%20%E5%BC%95%E6%93%8E.html#javascript-简单变量的执行过程" class="router-link-active router-link-exact-active sidebar-item" aria-label="JavaScript 简单变量的执行过程"><!--[--><!--]--> JavaScript 简单变量的执行过程 <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><a href="/javaScript/JavaScriptAdvanced/%E6%B7%B1%E5%85%A5JavaScript%E9%AB%98%E7%BA%A7%E8%AF%AD%E6%B3%95/02_%E5%87%BD%E6%95%B0%E6%89%A7%E8%A1%8C%E8%BF%87%E7%A8%8B%E5%92%8C%E4%BD%9C%E7%94%A8%E5%9F%9F%E9%93%BE.html" class="sidebar-item" aria-label="02_函数执行过程和作用域链"><!--[--><!--]--> 02_函数执行过程和作用域链 <!--[--><!--]--></a><!----></li><li><a href="/javaScript/JavaScriptAdvanced/%E6%B7%B1%E5%85%A5JavaScript%E9%AB%98%E7%BA%A7%E8%AF%AD%E6%B3%95/03_%E9%97%AD%E5%8C%85%E7%9A%84%E5%AE%9A%E4%B9%89%E5%92%8C%E5%86%85%E5%AD%98%E6%A8%A1%E5%9E%8B.html" class="sidebar-item" aria-label="03_闭包的定义和内存模型"><!--[--><!--]--> 03_闭包的定义和内存模型 <!--[--><!--]--></a><!----></li><li><a href="/javaScript/JavaScriptAdvanced/%E6%B7%B1%E5%85%A5JavaScript%E9%AB%98%E7%BA%A7%E8%AF%AD%E6%B3%95/04_%E5%86%85%E5%AD%98%E5%9B%9E%E6%94%B6%E5%92%8Cthis%E7%BB%91%E5%AE%9A%E8%A7%84%E5%88%99.html" class="sidebar-item" aria-label="04_内存回收和 this 绑定规则"><!--[--><!--]--> 04_内存回收和 this 绑定规则 <!--[--><!--]--></a><!----></li><li><a href="/javaScript/JavaScriptAdvanced/%E6%B7%B1%E5%85%A5JavaScript%E9%AB%98%E7%BA%A7%E8%AF%AD%E6%B3%95/05_this%E7%BB%91%E5%AE%9A%E8%A7%84%E5%88%99%E7%BB%86%E8%8A%82%E5%8F%8A%E5%B7%A9%E5%9B%BA.html" class="sidebar-item" aria-label="05_ this 绑定规则细节及巩固"><!--[--><!--]--> 05_ this 绑定规则细节及巩固 <!--[--><!--]--></a><!----></li><li><a href="/javaScript/JavaScriptAdvanced/%E6%B7%B1%E5%85%A5JavaScript%E9%AB%98%E7%BA%A7%E8%AF%AD%E6%B3%95/06_%E5%AE%9E%E7%8E%B0apply%E3%80%81call%E5%8F%8Abind.html" class="sidebar-item" aria-label="06_实现 apply、call 及 bind"><!--[--><!--]--> 06_实现 apply、call 及 bind <!--[--><!--]--></a><!----></li><li><a href="/javaScript/JavaScriptAdvanced/%E6%B7%B1%E5%85%A5JavaScript%E9%AB%98%E7%BA%A7%E8%AF%AD%E6%B3%95/07_%E7%BA%AF%E5%87%BD%E6%95%B0-%E6%9F%AF%E9%87%8C%E5%8C%96%E5%AE%9E%E7%8E%B0-%E7%BB%84%E5%90%88%E5%87%BD%E6%95%B0.html" class="sidebar-item" aria-label="07_纯函数-柯里化实现-组合函数"><!--[--><!--]--> 07_纯函数-柯里化实现-组合函数 <!--[--><!--]--></a><!----></li><li><a href="/javaScript/JavaScriptAdvanced/%E6%B7%B1%E5%85%A5JavaScript%E9%AB%98%E7%BA%A7%E8%AF%AD%E6%B3%95/08_with-eval-%E4%B8%A5%E6%A0%BC%E6%A8%A1%E5%BC%8F-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1.html" class="sidebar-item" aria-label="08_with-eval-严格模式-面向对象"><!--[--><!--]--> 08_with-eval-严格模式-面向对象 <!--[--><!--]--></a><!----></li><li><a href="/javaScript/JavaScriptAdvanced/%E6%B7%B1%E5%85%A5JavaScript%E9%AB%98%E7%BA%A7%E8%AF%AD%E6%B3%95/09_%E5%AF%B9%E8%B1%A1%E8%A1%A5%E5%85%85-%E5%8E%9F%E5%9E%8B-%E5%88%9B%E5%BB%BA%E5%AF%B9%E8%B1%A1.html" class="sidebar-item" aria-label="09_对象补充-原型-创建对象"><!--[--><!--]--> 09_对象补充-原型-创建对象 <!--[--><!--]--></a><!----></li><li><a href="/javaScript/JavaScriptAdvanced/%E6%B7%B1%E5%85%A5JavaScript%E9%AB%98%E7%BA%A7%E8%AF%AD%E6%B3%95/10_%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%8E%9F%E5%9E%8B%E9%93%BE%E5%92%8C%E7%BB%A7%E6%89%BF%E5%AE%9E%E7%8E%B0.html" class="sidebar-item" aria-label="10_面向对象的原型链和继承实现"><!--[--><!--]--> 10_面向对象的原型链和继承实现 <!--[--><!--]--></a><!----></li><li><a href="/javaScript/JavaScriptAdvanced/%E6%B7%B1%E5%85%A5JavaScript%E9%AB%98%E7%BA%A7%E8%AF%AD%E6%B3%95/11_%E7%BB%A7%E6%89%BF%E7%9A%84%E5%AE%9E%E7%8E%B0-%E5%AF%B9%E8%B1%A1-%E5%87%BD%E6%95%B0-%E5%8E%9F%E5%9E%8B%E7%9A%84%E5%85%B3%E7%B3%BB.html" class="sidebar-item" aria-label="11_继承的实现-对象函数原型的关系"><!--[--><!--]--> 11_继承的实现-对象函数原型的关系 <!--[--><!--]--></a><!----></li><li><a href="/javaScript/JavaScriptAdvanced/%E6%B7%B1%E5%85%A5JavaScript%E9%AB%98%E7%BA%A7%E8%AF%AD%E6%B3%95/12_ES6%E7%B1%BB%E7%9A%84%E4%BD%BF%E7%94%A8%E5%92%8C%E8%BD%ACES5%E6%BA%90%E7%A0%81%E9%98%85%E8%AF%BB.html" class="sidebar-item" aria-label="12_ ES6 类的使用和转 ES5 源码阅读"><!--[--><!--]--> 12_ ES6 类的使用和转 ES5 源码阅读 <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><h1 id="_01-浏览器工作原理和-v8-引擎" tabindex="-1"><a class="header-anchor" href="#_01-浏览器工作原理和-v8-引擎" aria-hidden="true">#</a> 01_浏览器工作原理和 V8 引擎</h1><h2 id="javascript-是一门编程语言" tabindex="-1"><a class="header-anchor" href="#javascript-是一门编程语言" aria-hidden="true">#</a> JavaScript 是一门编程语言</h2><p>首先我们要明确 JavaScript 是一门高级的编程语言！</p><p>除此之外还有汇编语言，再往下就是机器语言，计算机实际能够读懂的就是机器语言，它就是一些机器指令(010101~)。</p><p>越是高级的语言往往越抽象(机器层面)，越容易被人所理解，反之，则越容易被机器解读，越不容易被人所理解。</p><h2 id="浏览器的工作原理" tabindex="-1"><a class="header-anchor" href="#浏览器的工作原理" aria-hidden="true">#</a> 浏览器的工作原理</h2><p>那么，我们的 JavaScript 代码是如何被我们的浏览器所执行的呢？回答这个问题需要先理解以下几个概念：</p><h3 id="_1-浏览器内核" tabindex="-1"><a class="header-anchor" href="#_1-浏览器内核" aria-hidden="true">#</a> 1. 浏览器内核</h3><p>不同浏览器有不同的内核组成：</p><ul><li>Gecko: 早期被 Netscape 和 Mozilla Firefox 浏览器浏览器使用；</li><li>Trident: 微软开发，被 IE4~IE11 浏览器使用，但是 Edge 浏览器已经转向 Blink；</li><li>Webkit: 苹果基于 KHTML 开发、开源的，用于 Safari，Google Chrome 之前也在使用；</li><li>Blink: 是 Webkit 的一个分支，Google 开发，目前应用于 Google Chrome、Edge、Opera 等；</li></ul><p>实际上，我们所说的浏览器内核指的是浏览器的排版引擎：</p><blockquote><p>早期浏览器内核实际上应该指的是渲染引擎(排版引擎...)和 JS 引擎，但是随着 JS 引擎越来越独立，内核就倾向于单指渲染引擎。</p></blockquote><ul><li>排版引擎（layout engine），也称为浏览器引擎（browser engine）、页面渲染引擎（rendering engine）或样版引擎。</li></ul><h3 id="_2-javascript-引擎" tabindex="-1"><a class="header-anchor" href="#_2-javascript-引擎" aria-hidden="true">#</a> 2. JavaScript 引擎</h3><p>为什么需要 JavaScript 引擎呢？</p><ul><li>JavaScript 是一门高级的编程语言，机器本身是不可读的，需要一个转换到机器码的过程；</li><li>事实上我们编写的 JavaScript 无论你交给浏览器或者 Node 执行，最后都是需要被 CPU 执行的；</li><li>但是 CPU 只认识自己的指令集，实际上是机器语言，才能被 CPU 所执行；</li><li>所以我们需要 JavaScript 引擎帮助我们将 JavaScript 代码翻译成 CPU 指令来执行；</li></ul><p>常见的 JavaScript 引擎：</p><ul><li>SpiderMonkey：第一款 JavaScript 引擎，由 Brendan Eich 开发（也就是 JavaScript 作者）；</li><li>Chakra：微软开发，用于 IT 浏览器；</li><li>JavaScriptCore：WebKit 中的 JavaScript 引擎，Apple 公司开发；</li><li>V8：Google 开发的强大 JavaScript 引擎，也帮助 Chrome 从众多浏览器中脱颖而出；</li></ul><h3 id="_3-浏览器内核和-javascript-引擎的关系" tabindex="-1"><a class="header-anchor" href="#_3-浏览器内核和-javascript-引擎的关系" aria-hidden="true">#</a> 3. 浏览器内核和 JavaScript 引擎的关系</h3><p>这里我们以 Webkit 为例，Webkit 实际上是由两部分组成的：</p><ol><li>WebCore：负责解析、渲染、布局等工作；</li><li>JavaScriptCore: 解析和执行 JavaScript 代码；</li></ol><p>实际上，这和我们小程序的架构非常类似：</p><ul><li>小程序中我们的 JavaScript 代码就是 JavaScriptCore 负责执行的</li></ul><p><img src="https://raw.githubusercontent.com/hqchqc/staticRepo/master/images/20220502114806.png" alt="小程序架构图"></p><p>另外一个非常强大的引擎就是我们经常听到的 V8 引擎。</p><h3 id="_4-浏览器的渲染过程" tabindex="-1"><a class="header-anchor" href="#_4-浏览器的渲染过程" aria-hidden="true">#</a> 4. 浏览器的渲染过程</h3><p><img src="https://raw.githubusercontent.com/hqchqc/staticRepo/master/images/20220502135349.png" alt="浏览器的渲染过程"></p><p>上图是一个浏览器解析我们文件的具体过程：</p><ol><li>首先浏览器拿到我们的文件，从上往下执行： <ol><li>如果是样式文件，交给 CSS Parser 处理解析</li><li>如果是 HTML 标签，交由 HTML Parser 处理解析</li></ol></li><li>由于我们的 JavaScript 文件可以操纵 DOM 元素，所以势必会影响到 HTML 解析生成 DOM Tree 的过程，所以如果解析 HTML 过程中遇到了 JavaScript 标签，则会停止 HTML 的解析，首先去解析 JavaScript 标签中的元素，解析 JavaScript 这一行为就交给我们刚才提到的 JS 引擎去做</li><li>当 DOM Tree 生成和将它和 CSS 解析生成的样式文件进行合并，也就是这里的 Attachment(附加)的过程；</li><li>接下来浏览器因为要考虑到不同设备之间元素如何定位，所以有一个 Layout 的过程；</li><li>结束后浏览器就会将 Render Tree 渲染到页面上进行展示</li></ol><h2 id="v8-引擎的原理" tabindex="-1"><a class="header-anchor" href="#v8-引擎的原理" aria-hidden="true">#</a> V8 引擎的原理</h2><p>首先看一下官方对于 V8 引擎的定义：</p><ul><li>V8 是用 C ++编写的 Google 开源高性能 JavaScript 和 WebAssembly 引擎，它用于 Chrome 和 Node.js 等。</li><li>它实现 ECMAScript 和 WebAssembly，并在 Windows 7 或更高版本，macOS 10.12+和使用 x64，IA-32， ARM 或 MIPS 处理器的 Linux 系统上运行。</li><li>V8 可以独立运行，也可以嵌入到任何 C ++ 应用程序中</li></ul><p>整体运行流程：</p><p><img src="https://raw.githubusercontent.com/hqchqc/staticRepo/master/images/20220502142523.png" alt="20220502142523"></p><ol><li><p>首先 V8 引擎拿到 JavaScript 代码会进入 parse 阶段，这个阶段会做两件事，就是词法分析和语法分析</p><ol><li>词法分析： 将一条语句进行拆分，拆分至每个单词的细粒度类似 const 、name、=、&#39; 、hello、&#39;，将字符流转换为词法单元流(token)</li><li>语法分析： 这一阶段会将词法分析得到的内容进行区分，哪些是标识符，变量等等，并生成 AST</li></ol></li><li><p>完成第一阶段会生成一条条 tokens，所有的 tokens 组成我们的 AST(抽象语法树)，可以访问这个网站进行查看 <a href="https://astexplorer.net/" target="_blank" rel="noopener noreferrer">生成 AST<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>；</p></li><li><p>接下来就是将我们生成的 AST 交给 Ignition，Ignition 负责帮助我们将 AST 转换为字节码(byteCode)并且会对代码进行分析；</p><ol><li>如果一个函数被多次调用，那么 Ignition 会将这个函数标记为热点函数，交由 TurboFan 编译为机器码，提高执行性能;</li><li>如果一个函数只执行了一次，那么 Ignition 会将其转换为 ByteCode；</li><li>当然还有一种情况是这个函数并没有进行调用，那么此时是不会对这个函数做任何操作的；</li></ol></li><li><p>TurboFan 是一个编译器，将字节码文件编译为机器码，如果一个函数已经被标记为热点函数，但是某一次执行时，传入的类型和之前的类型不同，比如之前传入数值，那么执行相加操作，但是如果传入字符串，这个时候就不是相加了，此时直接调用之前生成的机器码肯定是不行的，所以 TurboFan 会重新将其转换为字节码，进行调用(这也是解释了为什么编写 TS 会使程序性能会好一点)；</p></li></ol><p>那么为什么会有一个生成字节码的逻辑呢？直接生成机器码不是更好吗？<br> 这是为了可以让代码在不同环境运行，比如说 windows 和 mac 上，更好的跨平台的特性</p><h2 id="v8-引擎细节及解析图-官方" tabindex="-1"><a class="header-anchor" href="#v8-引擎细节及解析图-官方" aria-hidden="true">#</a> V8 引擎细节及解析图（官方）</h2><p><img src="https://raw.githubusercontent.com/hqchqc/staticRepo/master/images/20220502152937.png" alt="V8 引擎解析图"></p><p>知道了上述浏览器的整体流程之后，我们具体来看一下上述的 Parse 这个解析过程，这个过程内部具体实现就是如上图所示：</p><ol><li>首先 Blink 将源码交给 V8 引擎，这里通过流的方式进行传输，并且约定了编码格式；</li><li>Scanner 阶段就是之前说的词法分析和语法分析阶段，将代码转换为 tokens 再转换为 AST；</li><li>接下来 tokens 会被转换成 AST 树，经过 Parser 和 PreParser： <ol><li>Parser 就是直接将 tokens 转成 AST 树结构；</li><li>PreParser 称之为预解析，为什么需要预解析呢？ <ol><li>这是因为并不是所有的 JavaScript 代码，在一开始时就会被执行。那么对所有的 JavaScript 代码进行解析，必然会影响网页的运行效率；</li><li>所以 V8 引擎就实现了 Lazy Parsing（延迟解析）的方案，它的作用是将不必要的函数进行预解析，也就是只解析暂时需要的内容，而对函数的全量解析是在函数被调用时才会进行；</li><li>比如我们在一个函数 outer 内部定义了另外一个函数 inner，那么 inner 函数就会进行预解析</li></ol></li></ol></li><li>生成 AST 树后，会被 Ignition 转成字节码（bytecode），之后的过程就是代码的执行过程。</li></ol><h2 id="javascript-简单变量的执行过程" tabindex="-1"><a class="header-anchor" href="#javascript-简单变量的执行过程" aria-hidden="true">#</a> JavaScript 简单变量的执行过程</h2><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> name <span class="token operator">=</span> <span class="token string">&quot;beanBag&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> num1 <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> num2 <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> result <span class="token operator">=</span> num1 <span class="token operator">+</span> num2<span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>以上代码如何执行：</p><ol><li>首先 js 引擎在执行代码之前会在堆内存中创建一个全局对象：Global Object(GO); <ol><li>该对象所有的作用域( scope )都可以访问；</li><li>里面还会包含 Date、String、setTimeOut 等等；</li><li>其中还有一个 window 对象属性指向自己(所以我们可以一直 window.window.window)</li></ol></li></ol><p><img src="https://raw.githubusercontent.com/hqchqc/staticRepo/master/images/20220502160739.png" alt="Global Object"></p><ol start="2"><li>其次，js 引擎内部还有一个执行上下文栈(Execution Context Stack，简称 ECS), 它是用于执行代码的调用栈 <ol><li>那么现在它要执行谁呢？ 执行的是全局的代码块 <ul><li>全局的代码块为了执行会构建一个 Global Execution Context（GEC）；</li><li>GEC 会放到 ECS 中执行</li></ul></li><li>GEC 被放入到 ECS 中里面包含两部分内容： <ol><li>在代码执行前，在 parser 转成 AST 的过程中，会将全局定义的变量、函数等加入到 GlobalObject 中，但是并不会赋值； 这个过程也称之为变量的作用域提升（hoisting）；</li><li>在代码执行中，对变量赋值，或者执行其他的函数；</li></ol></li></ol></li></ol><p><img src="https://raw.githubusercontent.com/hqchqc/staticRepo/master/images/20220502161426.png" alt="GEC被放入到ECS中"></p><!--]--></div><footer class="page-meta"><!----><div class="meta-item last-updated"><span class="meta-item-label">Last Updated: </span><!----></div><div class="meta-item contributors"><span class="meta-item-label">Contributors: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: 734986933@qq.com">hqchqc</span><!----><!--]--><!--]--></span></div></footer><nav class="page-nav"><p class="inner"><!----><span class="next"><a href="/javaScript/JavaScriptAdvanced/%E6%B7%B1%E5%85%A5JavaScript%E9%AB%98%E7%BA%A7%E8%AF%AD%E6%B3%95/02_%E5%87%BD%E6%95%B0%E6%89%A7%E8%A1%8C%E8%BF%87%E7%A8%8B%E5%92%8C%E4%BD%9C%E7%94%A8%E5%9F%9F%E9%93%BE.html" class="" aria-label="02_函数执行过程和作用域链"><!--[--><!--]--> 02_函数执行过程和作用域链 <!--[--><!--]--></a></span></p></nav><!--[--><!--]--></main><!--]--></div><!----><!----><!--]--></div>
    <script type="module" src="/assets/app.044a4b86.js" defer></script>
  </body>
</html>
